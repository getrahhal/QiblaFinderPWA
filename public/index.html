<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Qibla | القبلة</title>
    <link rel="manifest" href="./manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-pill">
                <span class="status-dot"></span>
                <span class="status-text">Connected</span>
            </div>
            <button class="theme-button" id="themeSwitcher">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="themeIcon"></svg>
            </button>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="compass-card">
                <div class="compass-header">
                    <h1>Qibla Finder</h1>
                    <p class="subtitle">Find the direction to Mecca</p>
                </div>

                <div class="compass-wrapper">
                    <div class="compass-ring">
                        <div class="compass-face">
                            <img src="./Assets/Kaaba-Compass-Icon.svg" alt="Kaaba Direction" class="kaaba-indicator" id="kaaba-icon">
                        </div>
                    </div>
                    
                    <div class="compass-info">
                        <div class="info-card" id="coordinates-container">
                            <span class="info-label">Location</span>
                            <span class="info-value" id="coordinates-text">--</span>
                            <button class="copy-button">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 4v12a2 2 0 002 2h8a2 2 0 002-2V7.242a2 2 0 00-.602-1.43L16.083 2.57A2 2 0 0014.685 2H10a2 2 0 00-2 2z" />
                                    <path d="M16 18v2a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2h2" />
                                </svg>
                            </button>
                        </div>
                        
                        <div class="info-card">
                            <span class="info-label">Distance to Kaaba</span>
                            <span class="info-value" id="distance">--</span>
                        </div>
                    </div>
                </div>

                <div class="status-message" id="status">
                    <span class="message-text">Tap start to begin</span>
                </div>

                <button class="primary-button" id="startButton">
                    <span class="button-text">Start Compass</span>
                </button>
            </div>
        </main>

        <!-- Theme Menu -->
        <div class="theme-menu" id="themeMenu">
            <div class="theme-menu-content">
                <button class="theme-option" data-theme="system">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>System</span>
                </button>
                <button class="theme-option" data-theme="light">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <span>Light</span>
                </button>
                <button class="theme-option" data-theme="dark">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                    <span>Dark</span>
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <a href="https://github.com/getrahhal" target="_blank" rel="noopener noreferrer" class="footer-content">
                <img src="./Assets/rahhal-icon-light.png" alt="Rahhal Logo" class="footer-logo" id="rahhal-logo">
                <span class="footer-text">Part of Rahhal Mini Apps.</span>
            </a>
        </footer>
    </div>

    <script src="./app.js"></script>
    <script src="./theme-manager.js"></script>
</body>
</html>
